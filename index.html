<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2685.2">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!doctype html&gt;</p>
<p class="p1">&lt;html lang="tr"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;meta charset="utf-8" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;meta name="viewport" content="width=device-width,initial-scale=1" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;title&gt;Okul Listesi + Harita&lt;/title&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;!-- Leaflet (OpenStreetMap) --&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;link</p>
<p class="p1"><span class="Apple-converted-space">    </span>rel="stylesheet"</p>
<p class="p1"><span class="Apple-converted-space">    </span>href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"</p>
<p class="p1"><span class="Apple-converted-space">    </span>integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="</p>
<p class="p1"><span class="Apple-converted-space">    </span>crossorigin=""</p>
<p class="p1"><span class="Apple-converted-space">  </span>/&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>:root { --bg:#0b1220; --card:#121a2b; --muted:#a8b3cf; --text:#e9efff; --accent:#7aa2ff; --border:#23304d; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:var(--bg); color:var(--text); }</p>
<p class="p1"><span class="Apple-converted-space">    </span>header { padding:18px 18px 12px; border-bottom:1px solid var(--border); }</p>
<p class="p1"><span class="Apple-converted-space">    </span>h1 { margin:0; font-size:18px; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.sub { margin-top:6px; color:var(--muted); font-size:13px; line-height:1.35; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>.layout { display:grid; grid-template-columns: 420px 1fr; gap:12px; height: calc(100vh - 74px); }</p>
<p class="p1"><span class="Apple-converted-space">    </span>@media (max-width: 980px) { .layout { grid-template-columns: 1fr; height:auto; } #map { height: 55vh; } }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>.panel { padding:12px; overflow:auto; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.card { background:var(--card); border:1px solid var(--border); border-radius:14px; padding:12px; margin-bottom:10px; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.row { display:flex; align-items:center; justify-content:space-between; gap:10px; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.title { font-weight:700; font-size:14px; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.meta { color:var(--muted); font-size:12px; margin-top:4px; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.controls { display:flex; gap:8px; flex-wrap:wrap; margin-top:10px; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>button { background:transparent; border:1px solid var(--border); color:var(--text); padding:8px 10px; border-radius:10px; cursor:pointer; font-weight:600; font-size:12px; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>button:hover { border-color: var(--accent); }</p>
<p class="p1"><span class="Apple-converted-space">    </span>button.primary { background: rgba(122,162,255,.12); border-color: rgba(122,162,255,.35); }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.input { width:100%; box-sizing:border-box; margin-top:10px; background:#0f1730; border:1px solid var(--border); color:var(--text); padding:9px 10px; border-radius:10px; font-size:12px; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.hint { margin-top:8px; color:var(--muted); font-size:12px; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.topbar { display:flex; gap:10px; align-items:center; margin: 12px 12px 0; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.search { flex:1; }</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>#map { height:100%; width:100%; border-left:1px solid var(--border); }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.badge { font-size:11px; color: var(--muted); border:1px solid var(--border); padding:4px 8px; border-radius:999px; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.status { margin: 0 12px 12px; color: var(--muted); font-size: 12px; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.small { font-size:11px; color: var(--muted); margin-top: 6px; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>a { color: var(--accent); text-decoration: none; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>a:hover { text-decoration: underline; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p2"><br></p>
<p class="p1">&lt;body&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;header&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;h1&gt;Okul Listesi (İmam Hatip Hariç) • Harita&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="sub"&gt;</p>
<p class="p1"><span class="Apple-converted-space">      </span>“Haritada Göster” ile okul adı + ilçe + İstanbul üzerinden konumu arar ve işaretler.</p>
<p class="p1"><span class="Apple-converted-space">      </span>Yanlış çıkarsa alttaki “Konum/Adres” alanını detaylandırıp tekrar deneyin.</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/header&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div class="topbar"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;input id="filter" class="input search" placeholder="Ara: okul adı / ilçe (örn: Maltepe, Zümrütevler, Kadıköy...)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;button id="clearMarkers" class="primary"&gt;Haritayı Temizle&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div class="status" id="status"&gt;Hazır.&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div class="layout"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="panel" id="list"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div id="map"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;!-- Leaflet JS --&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;script</p>
<p class="p1"><span class="Apple-converted-space">    </span>src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"</p>
<p class="p1"><span class="Apple-converted-space">    </span>integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="</p>
<p class="p1"><span class="Apple-converted-space">    </span>crossorigin=""</p>
<p class="p1"><span class="Apple-converted-space">  </span>&gt;&lt;/script&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>// 1) OKUL VERİSİ (İmam Hatip olanlar çıkarıldı)</p>
<p class="p1"><span class="Apple-converted-space">    </span>// İsterseniz her okul için "address" alanını daha detaylı doldurun (mahalle/sokak vs.)</p>
<p class="p1"><span class="Apple-converted-space">    </span>const schools = [</p>
<p class="p1"><span class="Apple-converted-space">      </span>// MALTEPE</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Maltepe", name: "Adnan Kahveci Ortaokulu", address: "Adnan Kahveci Ortaokulu, Maltepe, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Maltepe", name: "Celal Avşar Ortaokulu", address: "Celal Avşar Ortaokulu, Maltepe, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Maltepe", name: "Küçükyalı Mesleki ve Teknik Anadolu Lisesi", address: "Küçükyalı Mesleki ve Teknik Anadolu Lisesi, Maltepe, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Maltepe", name: "Muhsine Zeynep Ortaokulu", address: "Muhsine Zeynep Ortaokulu, Maltepe, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Maltepe", name: "Mutluhan-Uzunal-Çolakoğlu Ortaokulu", address: "Mutluhan-Uzunal-Çolakoğlu Ortaokulu, Maltepe, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Maltepe", name: "Suzan Ahmet Yalkın Ortaokulu", address: "Suzan Ahmet Yalkın Ortaokulu, Maltepe, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Maltepe", name: "TOKİ Maltepe Anadolu Lisesi", address: "TOKİ Maltepe Anadolu Lisesi, Maltepe, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Maltepe", name: "Zümrütevler Anadolu Lisesi", address: "Zümrütevler Anadolu Lisesi, Maltepe, İstanbul" },</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>// KADIKÖY</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kadıköy", name: "Bahariye Ortaokulu", address: "Bahariye Ortaokulu, Kadıköy, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kadıköy", name: "Bostancı Atatürk Ortaokulu", address: "Bostancı Atatürk Ortaokulu, Kadıköy, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kadıköy", name: "Cenap Şahabettin İlkokulu", address: "Cenap Şahabettin İlkokulu, Kadıköy, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kadıköy", name: "Faik Reşit Unat Ortaokulu", address: "Faik Reşit Unat Ortaokulu, Kadıköy, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kadıköy", name: "Halil Türkan Ortaokulu", address: "Halil Türkan Ortaokulu, Kadıköy, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kadıköy", name: "İkbaliye Ortaokulu", address: "İkbaliye Ortaokulu, Kadıköy, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kadıköy", name: "İlhami Ertem Ortaokulu", address: "İlhami Ertem Ortaokulu, Kadıköy, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kadıköy", name: "İstanbul Avni Akyol Güzel Sanatlar Lisesi", address: "İstanbul Avni Akyol Güzel Sanatlar Lisesi, Kadıköy, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kadıköy", name: "Kadıköy Spor Lisesi", address: "Kadıköy Spor Lisesi, Kadıköy, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kadıköy", name: "Reşat Nuri Güntekin Ortaokulu", address: "Reşat Nuri Güntekin Ortaokulu, Kadıköy, İstanbul" },</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>// KARTAL (İmam Hatip olmayanlar)</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kartal", name: "100 Yıl Ali Rıza Efendi Ortaokulu", address: "100 Yıl Ali Rıza Efendi Ortaokulu, Kartal, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kartal", name: "Cevizli Ortaokulu", address: "Cevizli Ortaokulu, Kartal, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kartal", name: "Çavuşoğlu Ortaokulu", address: "Çavuşoğlu Ortaokulu, Kartal, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kartal", name: "İbrahim Saime Zıpkın İlkokulu", address: "İbrahim Saime Zıpkın İlkokulu, Kartal, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kartal", name: "İhsan Zakiroğlu Ortaokulu", address: "İhsan Zakiroğlu Ortaokulu, Kartal, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kartal", name: "Kartal Borsa İstanbul Mesleki ve Teknik Anadolu Lisesi", address: "Kartal Borsa İstanbul Mesleki ve Teknik Anadolu Lisesi, Kartal, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kartal", name: "Kartal Milli Eğitim Vakfı Ortaokulu", address: "Kartal Milli Eğitim Vakfı Ortaokulu, Kartal, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kartal", name: "Şehit Er Serhat Şanlı Ortaokulu", address: "Şehit Er Serhat Şanlı Ortaokulu, Kartal, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kartal", name: "Şehit Timur Aktemur Ortaokulu", address: "Şehit Timur Aktemur Ortaokulu, Kartal, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kartal", name: "TOKİ Şehit Mustafa Kartal Ortaokulu", address: "TOKİ Şehit Mustafa Kartal Ortaokulu, Kartal, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Kartal", name: "Ülkü Bora Ortaokulu", address: "Ülkü Bora Ortaokulu, Kartal, İstanbul" },</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>// PENDİK (İmam Hatip olmayanlar)</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Pendik", name: "700. Yıl Ortaokulu", address: "700. Yıl Ortaokulu, Pendik, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Pendik", name: "Abdullah Acar Ortaokulu", address: "Abdullah Acar Ortaokulu, Pendik, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Pendik", name: "Alparslan Anadolu Lisesi", address: "Alparslan Anadolu Lisesi, Pendik, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Pendik", name: "Cahit Zarifoğlu Ortaokulu", address: "Cahit Zarifoğlu Ortaokulu, Pendik, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Pendik", name: "Faruk Demirbağ Ortaokulu", address: "Faruk Demirbağ Ortaokulu, Pendik, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Pendik", name: "Kazım Karabekir Ortaokulu", address: "Kazım Karabekir Ortaokulu, Pendik, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Pendik", name: "Mehmet Akif Ersoy Ortaokulu", address: "Mehmet Akif Ersoy Ortaokulu, Pendik, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Pendik", name: "Nuri Demirağ Mesleki ve Teknik Anadolu Lisesi", address: "Nuri Demirağ Mesleki ve Teknik Anadolu Lisesi, Pendik, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Pendik", name: "Orhangazi Ortaokulu", address: "Orhangazi Ortaokulu, Pendik, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Pendik", name: "Öğretmenevleri Ortaokulu", address: "Öğretmenevleri Ortaokulu, Pendik, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Pendik", name: "Şehit Selçuk Beki Ortaokulu", address: "Şehit Selçuk Beki Ortaokulu, Pendik, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Pendik", name: "Şeyhli Ortaokulu", address: "Şeyhli Ortaokulu, Pendik, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">      </span>{ district: "Pendik", name: "Velibaba Ortaokulu", address: "Velibaba Ortaokulu, Pendik, İstanbul" },</p>
<p class="p1"><span class="Apple-converted-space">    </span>];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 2) Harita kurulumu (başlangıç: Maltepe civarı)</p>
<p class="p1"><span class="Apple-converted-space">    </span>const map = L.map("map", { zoomControl: true }).setView([40.935, 29.135], 12);</p>
<p class="p1"><span class="Apple-converted-space">    </span>L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {</p>
<p class="p1"><span class="Apple-converted-space">      </span>maxZoom: 19,</p>
<p class="p1"><span class="Apple-converted-space">      </span>attribution: '&amp;copy; OpenStreetMap katkıcıları'</p>
<p class="p1"><span class="Apple-converted-space">    </span>}).addTo(map);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>const markersLayer = L.layerGroup().addTo(map);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 3) Nominatim ile geocoding (okul adı/adres -&gt; lat/lon)</p>
<p class="p1"><span class="Apple-converted-space">    </span>async function geocode(query) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const url = "https://nominatim.openstreetmap.org/search?format=json&amp;limit=1&amp;q=" + encodeURIComponent(query);</p>
<p class="p1"><span class="Apple-converted-space">      </span>const res = await fetch(url, {</p>
<p class="p1"><span class="Apple-converted-space">        </span>headers: {</p>
<p class="p1"><span class="Apple-converted-space">          </span>// Nominatim kullanımında User-Agent/Referer politikasına dikkat; tarayıcı bazen sınırlar.</p>
<p class="p1"><span class="Apple-converted-space">          </span>// Bu demo için basit bırakıyoruz.</p>
<p class="p1"><span class="Apple-converted-space">          </span>"Accept": "application/json"</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">      </span>});</p>
<p class="p1"><span class="Apple-converted-space">      </span>if (!res.ok) throw new Error("Geocoding isteği başarısız: " + res.status);</p>
<p class="p1"><span class="Apple-converted-space">      </span>const data = await res.json();</p>
<p class="p1"><span class="Apple-converted-space">      </span>if (!data || data.length === 0) return null;</p>
<p class="p1"><span class="Apple-converted-space">      </span>return { lat: parseFloat(data[0].lat), lon: parseFloat(data[0].lon), display: data[0].display_name };</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function setStatus(text) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>document.getElementById("status").textContent = text;</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>// 4) Listeyi render et</p>
<p class="p1"><span class="Apple-converted-space">    </span>const listEl = document.getElementById("list");</p>
<p class="p1"><span class="Apple-converted-space">    </span>const filterEl = document.getElementById("filter");</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function createSchoolCard(s) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const card = document.createElement("div");</p>
<p class="p1"><span class="Apple-converted-space">      </span>card.className = "card";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>const top = document.createElement("div");</p>
<p class="p1"><span class="Apple-converted-space">      </span>top.className = "row";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>const left = document.createElement("div");</p>
<p class="p1"><span class="Apple-converted-space">      </span>left.innerHTML = `&lt;div class="title"&gt;${escapeHtml(s.name)}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="meta"&gt;&lt;span class="badge"&gt;${escapeHtml(s.district)}&lt;/span&gt;&lt;/div&gt;`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>const right = document.createElement("div");</p>
<p class="p1"><span class="Apple-converted-space">      </span>right.innerHTML = `&lt;span class="badge"&gt;OSM&lt;/span&gt;`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>top.appendChild(left);</p>
<p class="p1"><span class="Apple-converted-space">      </span>top.appendChild(right);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>const addrInput = document.createElement("input");</p>
<p class="p1"><span class="Apple-converted-space">      </span>addrInput.className = "input";</p>
<p class="p1"><span class="Apple-converted-space">      </span>addrInput.value = s.address || `${s.name}, ${s.district}, İstanbul`;</p>
<p class="p1"><span class="Apple-converted-space">      </span>addrInput.placeholder = "Konum/Adres (mahalle/sokak ekleyebilirsiniz)";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>const controls = document.createElement("div");</p>
<p class="p1"><span class="Apple-converted-space">      </span>controls.className = "controls";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>const btnShow = document.createElement("button");</p>
<p class="p1"><span class="Apple-converted-space">      </span>btnShow.className = "primary";</p>
<p class="p1"><span class="Apple-converted-space">      </span>btnShow.textContent = "Haritada Göster";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>const btnCopy = document.createElement("button");</p>
<p class="p1"><span class="Apple-converted-space">      </span>btnCopy.textContent = "Arama Metnini Kopyala";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>const hint = document.createElement("div");</p>
<p class="p1"><span class="Apple-converted-space">      </span>hint.className = "hint";</p>
<p class="p1"><span class="Apple-converted-space">      </span>hint.textContent = "İpucu: Mahalle/Sokak eklerseniz daha doğru sonuç çıkar.";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>btnCopy.onclick = async () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>try {</p>
<p class="p1"><span class="Apple-converted-space">          </span>await navigator.clipboard.writeText(addrInput.value);</p>
<p class="p1"><span class="Apple-converted-space">          </span>setStatus("Kopyalandı: " + addrInput.value);</p>
<p class="p1"><span class="Apple-converted-space">        </span>} catch {</p>
<p class="p1"><span class="Apple-converted-space">          </span>setStatus("Kopyalama başarısız. Tarayıcı izin vermedi.");</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">      </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>btnShow.onclick = async () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const q = addrInput.value.trim();</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (!q) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>setStatus(`Konum aranıyor: ${q}`);</p>
<p class="p1"><span class="Apple-converted-space">        </span>btnShow.disabled = true;</p>
<p class="p1"><span class="Apple-converted-space">        </span>btnShow.textContent = "Aranıyor...";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>try {</p>
<p class="p1"><span class="Apple-converted-space">          </span>const found = await geocode(q);</p>
<p class="p1"><span class="Apple-converted-space">          </span>if (!found) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>setStatus("Konum bulunamadı. Adresi daha detaylı yazıp tekrar deneyin.");</p>
<p class="p1"><span class="Apple-converted-space">            </span>return;</p>
<p class="p1"><span class="Apple-converted-space">          </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>const marker = L.marker([found.lat, found.lon]).addTo(markersLayer);</p>
<p class="p1"><span class="Apple-converted-space">          </span>marker.bindPopup(</p>
<p class="p1"><span class="Apple-converted-space">            </span>`&lt;b&gt;${escapeHtml(s.name)}&lt;/b&gt;&lt;br&gt;` +</p>
<p class="p1"><span class="Apple-converted-space">            </span>`&lt;small&gt;${escapeHtml(found.display)}&lt;/small&gt;&lt;br&gt;` +</p>
<p class="p1"><span class="Apple-converted-space">            </span>`&lt;div class="small"&gt;Arama: ${escapeHtml(q)}&lt;/div&gt;`</p>
<p class="p1"><span class="Apple-converted-space">          </span>).openPopup();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">          </span>map.setView([found.lat, found.lon], 15);</p>
<p class="p1"><span class="Apple-converted-space">          </span>setStatus(`Haritada gösterildi: ${s.name}`);</p>
<p class="p1"><span class="Apple-converted-space">        </span>} catch (err) {</p>
<p class="p1"><span class="Apple-converted-space">          </span>console.error(err);</p>
<p class="p1"><span class="Apple-converted-space">          </span>setStatus("Hata: Konum aranırken sorun oldu. İnternet bağlantısını kontrol edin.");</p>
<p class="p1"><span class="Apple-converted-space">        </span>} finally {</p>
<p class="p1"><span class="Apple-converted-space">          </span>btnShow.disabled = false;</p>
<p class="p1"><span class="Apple-converted-space">          </span>btnShow.textContent = "Haritada Göster";</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">      </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>controls.appendChild(btnShow);</p>
<p class="p1"><span class="Apple-converted-space">      </span>controls.appendChild(btnCopy);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>card.appendChild(top);</p>
<p class="p1"><span class="Apple-converted-space">      </span>card.appendChild(addrInput);</p>
<p class="p1"><span class="Apple-converted-space">      </span>card.appendChild(controls);</p>
<p class="p1"><span class="Apple-converted-space">      </span>card.appendChild(hint);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>return card;</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function render() {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const q = (filterEl.value || "").toLowerCase().trim();</p>
<p class="p1"><span class="Apple-converted-space">      </span>listEl.innerHTML = "";</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>const filtered = schools.filter(s =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const hay = (s.name + " " + s.district).toLowerCase();</p>
<p class="p1"><span class="Apple-converted-space">        </span>return !q || hay.includes(q);</p>
<p class="p1"><span class="Apple-converted-space">      </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>if (filtered.length === 0) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const empty = document.createElement("div");</p>
<p class="p1"><span class="Apple-converted-space">        </span>empty.className = "card";</p>
<p class="p1"><span class="Apple-converted-space">        </span>empty.textContent = "Eşleşen okul bulunamadı.";</p>
<p class="p1"><span class="Apple-converted-space">        </span>listEl.appendChild(empty);</p>
<p class="p1"><span class="Apple-converted-space">        </span>return;</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">      </span>filtered.forEach(s =&gt; listEl.appendChild(createSchoolCard(s)));</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>filterEl.addEventListener("input", render);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>document.getElementById("clearMarkers").onclick = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">      </span>markersLayer.clearLayers();</p>
<p class="p1"><span class="Apple-converted-space">      </span>setStatus("Harita temizlendi.");</p>
<p class="p1"><span class="Apple-converted-space">    </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function escapeHtml(str) {</p>
<p class="p1"><span class="Apple-converted-space">      </span>return String(str).replace(/[&amp;&lt;&gt;"']/g, (m) =&gt; ({</p>
<p class="p1"><span class="Apple-converted-space">        </span>"&amp;":"&amp;amp;","&lt;":"&amp;lt;","&gt;":"&amp;gt;",'"':"&amp;quot;","'":"&amp;#039;"</p>
<p class="p1"><span class="Apple-converted-space">      </span>}[m]));</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>render();</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
